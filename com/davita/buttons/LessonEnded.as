/*Copyright (c) 2009 Normal Software.  All rights reserved.  The copyrights embodied in the content of this file are licensed under the BSD (revised) open source license*/package com.davita.buttons{	import flash.display.*;	import flash.events.*;	import flash.filters.*;	import fl.motion.easing.*;	public class LessonEnded extends MovieClip	{		/*			TODO change _myParent to findCourseSwf() method		*/		public var _myParent:Object;		public function LessonEnded()		{						addEventListener(Event.ADDED_TO_STAGE, initialize);		}		function initialize(event:Event):void		{			removeEventListener(Event.ADDED_TO_STAGE, initialize);			// find the CourseSwf			var success:Boolean = findCourseSwf();			if(success)			{				_myParent.stop();				var name:String = "openGate";				if (name in _myParent)				{					_myParent.openGate();				}							}					}				private function findCourseSwf():Boolean		{			var curParent:DisplayObjectContainer = this.parent;			while (curParent) 			{ 				if (curParent.hasOwnProperty("console")) 				{ 					_myParent = curParent;					trace("LessonEnded::findCourseSwf():CourseSwf Found");					return true;				}				curParent = curParent.parent;			}			trace("LessonEnded::findCourseSwf():CourseSwf Not Found");			return false;		}			}}