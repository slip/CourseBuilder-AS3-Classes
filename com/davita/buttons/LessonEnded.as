/*Copyright (c) 2009 Normal Software.  All rights reserved.  The copyrights embodied in the content of this file are licensed under the BSD (revised) open source license*/package com.davita.buttons{	import flash.display.*;	import flash.events.*;	import flash.filters.*;	import fl.motion.easing.*;	public class LessonEnded extends MovieClip	{		/*			TODO change _myParent to findCourseSwf() method		*/		public var __courseWrapper:Object;		public function LessonEnded()		{			addEventListener(Event.ADDED_TO_STAGE, initialize);		}		function initialize(event:Event):void		{			removeEventListener(Event.ADDED_TO_STAGE, initialize);			// find the CourseSwf			this.parent.stop();			// find the wrapper and add listeners			var success:Boolean = findWrapper();			if(success)			{				trace("LessonEnded::initialize(): wrapper found");			}					}				private function findWrapper():Boolean		{			var curParent:DisplayObjectContainer = this.parent;			while (curParent)			{				if (curParent.hasOwnProperty("versionNumber") && curParent.hasOwnProperty("currentPage"))				{					__courseWrapper = curParent;					trace("LessonEnded:: found the wrapper");					return true;					// Object(curParent).loader.addEventListener("unload", dispose, false, 0, true);				}				curParent = curParent.parent;			}			trace("LessonEnded:: not in a wrapper");			return false;		}			}}